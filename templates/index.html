<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Watermark Removal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-3xl space-y-6">
        <div class="section text-center">
            <h1 class="text-3xl font-bold text-gray-800">PDF去水印工具</h1>
            <p class="text-gray-600 mt-2">快速移除PDF文件中的水印</p>
        </div>

        <div class="section">
            <div id="drop-zone" class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors">
                <p class="text-gray-500 mb-4">拖放 PDF 文件到此处，或</p>
                <input type="file" id="file-input" accept=".pdf" class="hidden">
                <button id="select-file-btn" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">选择文件</button>
            </div>
            <p id="selected-file" class="text-gray-600 mt-2 text-center hidden"></p>
        </div>

        <div class="section">
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <div class="flex justify-center gap-4">
                    <button id="process-btn" class="px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors" disabled>处理</button>
                    <button id="clear-btn" class="px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors" disabled>清除</button>
                </div>
                <button id="preview-btn" class="px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors hidden">预览</button>
            </div>
            <div id="progress-bar" class="w-full bg-gray-200 rounded-full h-2.5 mt-4 hidden">
                <div id="progress" class="bg-blue-500 h-2.5 rounded-full"></div>
            </div>
            <p id="message" class="text-center text-gray-600 mt-4"></p>
            <a id="download-link" href="/download" download class="hidden block text-center px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition-colors mt-4">下载处理后的 PDF</a>
        </div>

        <div id="preview-modal" class="p-4">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-lg font-semibold text-gray-800">文件预览</h2>
                <button id="close-preview-btn" class="text-gray-500 hover:text-gray-700 text-2xl">×</button>
            </div>
            <iframe id="pdf-preview" class="w-full h-[calc(100%-4rem)] border rounded-lg"></iframe>
        </div>
    </div>

    <script src="{{ url_for('static', filename='index.js') }}" defer></script>
</body>
</html>